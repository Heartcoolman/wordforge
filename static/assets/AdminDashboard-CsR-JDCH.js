import{b as d,o as j,i as e,c as s,S as c,C as i,d as k,t as n}from"./index-6s_4JTtF.js";import{a as f}from"./admin-Dg2dsvo0.js";import{f as o}from"./formatters-DIeyM1Gq.js";var D=n('<div class="space-y-6 animate-fade-in-up"><h1 class="text-2xl font-bold text-content">仪表盘'),F=n('<div class="flex justify-center py-12">'),L=n('<p class="text-3xl font-bold text-accent">'),N=n('<p class="text-sm text-content-secondary">注册用户'),P=n('<p class="text-3xl font-bold text-info">'),q=n('<p class="text-sm text-content-secondary">单词总数'),E=n('<p class="text-3xl font-bold text-success">'),G=n('<p class="text-sm text-content-secondary">学习记录'),I=n('<div class="grid grid-cols-1 md:grid-cols-3 gap-4">'),J=n('<h2 class="text-lg font-semibold text-content mb-3">系统状态'),K=n('<div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-sm"><div><p class=text-content-secondary>状态</p><p class="font-medium text-success"></p></div><div><p class=text-content-secondary>数据库大小</p><p class="font-medium text-content"> MB</p></div><div><p class=text-content-secondary>运行时间</p><p class="font-medium text-content"> 小时</p></div><div><p class=text-content-secondary>版本</p><p class="font-medium text-content">');function T(){const[g,_]=d(null),[$,v]=d(null),[h,b]=d(!0);return j(async()=>{try{const[r,t]=await Promise.allSettled([f.getStats(),f.getHealth()]);r.status==="fulfilled"&&_(r.value),t.status==="fulfilled"&&v(t.value)}catch{}b(!1)}),(()=>{var r=D();return r.firstChild,e(r,s(c,{get when(){return!h()},get fallback(){return(()=>{var t=F();return e(t,s(k,{size:"lg"})),t})()},get children(){return[s(c,{get when(){return g()},children:t=>(()=>{var a=I();return e(a,s(i,{variant:"elevated",padding:"lg",get children(){return[(()=>{var l=L();return e(l,()=>o(t().users)),l})(),N()]}}),null),e(a,s(i,{variant:"elevated",padding:"lg",get children(){return[(()=>{var l=P();return e(l,()=>o(t().words)),l})(),q()]}}),null),e(a,s(i,{variant:"elevated",padding:"lg",get children(){return[(()=>{var l=E();return e(l,()=>o(t().records)),l})(),G()]}}),null),a})()}),s(c,{get when(){return $()},children:t=>s(i,{variant:"elevated",get children(){return[J(),(()=>{var a=K(),l=a.firstChild,S=l.firstChild,y=S.nextSibling,p=l.nextSibling,C=p.firstChild,u=C.nextSibling,w=u.firstChild,m=p.nextSibling,M=m.firstChild,x=M.nextSibling,z=x.firstChild,A=m.nextSibling,B=A.firstChild,H=B.nextSibling;return e(y,()=>t().status),e(u,()=>(t().dbSizeBytes/1024/1024).toFixed(2),w),e(x,()=>Math.floor(t().uptime/3600),z),e(H,()=>t().version),a})()]}})})]}}),null),r})()}export{T as default};
